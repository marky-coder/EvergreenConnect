/* client/src/styles/animations.css
 *
 * Robust/explicit hover animations:
 *  - buttons jump continuously while hovered (btnJump)
 *  - elements with .float-on-hover float while hovered
 *  - elements with .zoom-on-hover zoom while hovered
 *  - .team-photo lifts and slightly scales on hover
 *
 * Also contains the .ivy-photo strong-framing rule (soft-centering)
 * Accessibility: respects prefers-reduced-motion.
 */

/* ===== Button jump ===== */
@keyframes btnJump {
  0%,100% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
}
.btn-jump {
  transform-origin: center;
  transition: transform 140ms ease;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}
.btn-jump:hover { animation: btnJump 0.6s ease-in-out infinite; }
/* Fallback: animate any native button element while hovered */
button:not([disabled]):hover {
  animation: btnJump 0.6s ease-in-out infinite;
  transform-origin: center;
}
/* Also apply to anchors that are styled as buttons */
a[role="button"]:not([aria-disabled="true"]):hover,
a.btn:not([aria-disabled="true"]):hover {
  animation: btnJump 0.6s ease-in-out infinite;
  transform-origin: center;
}

/* ===== Floating hover for icons/images ===== */
@keyframes floaty {
  0% { transform: translateY(0); }
  50% { transform: translateY(-6px); }
  100% { transform: translateY(0); }
}
.float-on-hover {
  transition: transform 300ms ease, box-shadow 300ms ease;
  will-change: transform;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}
.float-on-hover:hover { animation: floaty 1.6s ease-in-out infinite; }

/* ===== Zoom on hover for tiles/cards ===== */
.zoom-on-hover {
  transition: transform 260ms cubic-bezier(.2,.8,.2,1), box-shadow 260ms;
  will-change: transform;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}
.zoom-on-hover:hover,
.card.zoom-on-hover:hover,
.shadcn-card.zoom-on-hover:hover,
div.zoom-on-hover:hover {
  transform: scale(1.03);
  box-shadow: 0 12px 30px rgba(0,0,0,0.18);
}

/* Ensure group-hover combinations work */
.group.zoom-on-hover:hover .team-photo,
.group.zoom-on-hover:hover p,
.group.zoom-on-hover:hover svg {
  transform: scale(1.03);
}

/* ===== Team photo micro-interaction ===== */
.team-photo {
  transition: transform 260ms ease, filter 260ms ease;
  will-change: transform, filter;
  -webkit-backface-visibility: hidden;
  backface-visibility: hidden;
}
.team-photo:hover,
img.team-photo.float-on-hover:hover {
  transform: translateY(-6px) scale(1.02);
}
.zoom-on-hover .team-photo,
.group.zoom-on-hover .team-photo {
  transition: transform 320ms cubic-bezier(.2,.8,.2,1);
}

/* utility */
a[role="button"],
a.btn { -webkit-tap-highlight-color: transparent; }

/* accessibility */
@media (prefers-reduced-motion: reduce) {
  .btn-jump:hover,
  button:not([disabled]):hover,
  a[role="button"]:not([aria-disabled="true"]):hover,
  .float-on-hover:hover,
  .zoom-on-hover:hover,
  .team-photo:hover,
  img.team-photo.float-on-hover:hover {
    animation: none !important;
    transition: none !important;
    transform: none !important;
    box-shadow: none !important;
  }
}

/* ===== Ivy soft-centering: gentle horizontal nudge + moderate zoom =====
   This is the soft center fix (recommended). It nudges Ivy slightly right
   and reduces zoom so the right margin looks similar to Nora's.
*/
.ivy-photo {
  object-fit: cover !important;
  object-position: 48% 16% !important; /* nudge slightly right, keep vertical high */
  display: block !important;
  transform: translateX(-6px) translateY(-18px) scale(1.30) !important;
  transition: transform 320ms cubic-bezier(.2,.8,.2,1) !important;
  -webkit-backface-visibility: hidden !important;
  backface-visibility: hidden !important;
}

@media (max-width: 1024px) {
  .ivy-photo {
    object-position: 48% 20% !important;
    transform: translateX(-4px) translateY(-12px) scale(1.20) !important;
  }
}

@media (max-width: 640px) {
  .ivy-photo {
    object-position: 50% 26% !important;
    transform: translateX(0px) translateY(-6px) scale(1.10) !important;
  }
}
